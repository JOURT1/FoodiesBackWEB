{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning",
            "Yarp.ReverseProxy": "Debug"
        }
    },
    "AllowedHosts": "*",
    "urls": "http://localhost:5000",
    "Jwt": {
        "SecretKey": "mi-clave-secreta-super-segura-de-32-caracteres-minimo-para-jwt-tokens-2024",
        "Issuer": "http://localhost:5002",
        "Audience": "foodies-api"
    },
    "ReverseProxy": {
      "Routes": {
        "auth-route": {
          "ClusterId": "users-cluster",
          "Match": {
            "Path": "/auth/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/auth/{**catch-all}" }
          ]
        },
        "api-users-route": {
          "ClusterId": "users-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/api/users/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/users/{**catch-all}" }
          ]
        },
        "users-protected-route": {
          "ClusterId": "users-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/users/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/users/{**catch-all}" }
          ]
        },
        "users-register-route": {
          "ClusterId": "users-cluster",
          "Match": {
            "Path": "/users"
          },
          "Transforms": [
            { "PathPattern": "/api/users" }
          ]
        },
        "formulario-foodie-route": {
          "ClusterId": "formulario-foodie-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/formulario-foodie/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/formulariofoodie/{**catch-all}" }
          ]
        },
        "user-info-route": {
          "ClusterId": "formulario-foodie-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/mi-usuario"
          },
          "Transforms": [
            { "PathPattern": "/api/formulariofoodie/mi-usuario" }
          ]
        },
        "reservas-route": {
          "ClusterId": "reservas-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/reservas/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/reservas/{**catch-all}" }
          ]
        },
        "entregables-route": {
          "ClusterId": "reservas-cluster",
          "AuthorizationPolicy": "RequireAuthenticatedUser",
          "Match": {
            "Path": "/entregables/{**catch-all}"
          },
          "Transforms": [
            { "PathPattern": "/api/entregables/{**catch-all}" }
          ]
        }
      },
      "Clusters": {
        "users-cluster": {
          "Destinations": {
            "destination1": {
              "Address": "http://localhost:5002"
            }
          }
        },
        "formulario-foodie-cluster": {
          "Destinations": {
            "destination1": {
              "Address": "http://localhost:5003"
            }
          }
        },
        "reservas-cluster": {
          "Destinations": {
            "destination1": {
              "Address": "http://localhost:5004"
            }
          }
        }
      }
    }
}
